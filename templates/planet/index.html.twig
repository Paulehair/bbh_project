{% extends 'base.html.twig' %}

{% block title %}Planet index{% endblock %}

{% block body %}

    <section class="container">
        <section class="Map">
            <h2 class="Map_title">Explorer le secteur</h2>
            <img src="/assets/img/p0.png" alt="planets" class="Map_img" title="planets">
        </section>

        <section class="Card">
            <div class="Card_slider">
        {% for planet in planets %}
            <div data-planet="{{ planet.name }}" class="Card_slider_ctnr">
                <h2 class="Card_slider_ctnr_title">{{ planet.name }}</h2>
                <p class="Card_slider_ctnr_txt">{{ planet.description }}</p>
                <p class="Card_slider_ctnr_btn"><a href="{{ path('planet_show', {'id': planet.id}) }}">Voir plus</a></p>
            </div>
        {% else %}
            <tr>
                <td colspan="7">no records found</td>
            </tr>
        {% endfor %}
             </div>
        </section>
    </section>
{% endblock %}

{% block javascripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.1/TweenMax.min.js"></script>
    <script type="text/javascript">
        const ui = {
            cards: document.querySelectorAll('.Card_slider_ctnr'),
            menu: document.querySelector('.Header_nav_box_menu'),
            img: document.querySelector('.Map_img')
        };

        const style = {
            boxShad: "0 0 80px rgba(56, 30, 85, 1)"
        };

        // FLOAT ANIM
        TweenMax.to(ui.img, 4, {
            y: 30,
            yoyo: true,
            repeat: -1
        });

        // MAP
        for (let i = 0; i < ui.cards.length; i++) {
            ui.cards[i].addEventListener('click', () => {
                ui.img.setAttribute("src", "assets/img/p" + i + ".png");
        });
        }
    </script>
{% endblock %}